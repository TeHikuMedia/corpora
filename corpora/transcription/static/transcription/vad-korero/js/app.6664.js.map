{"version":3,"sources":["webpack:///./src/components/Korero.vue?6178","webpack:///./api_auth.js","webpack:///./src/lib/encoder.js","webpack:///./src/lib/vad.js","webpack:///./src/lib/visualize.js","webpack:///./src/lib/recorder.js","webpack:///src/components/Korero.vue","webpack:///./src/components/Korero.vue?ceec","webpack:///./src/components/Korero.vue","webpack:///./src/main.js","webpack:///./src/components/Korero.vue?f0e5"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","api_auth","headers","url","_class","config","classCallCheck_default","this","bitRate","sampleRate","dataBuffer","encoder","Mp3Encoder","X","slice","length","arrayBuffer","samples","_convertBuffer","remaining","left","subarray","buffer","encodeBuffer","Int8Array","flush","blob","Blob","type","id","Date","now","URL","createObjectURL","input","output","s","Math","max","min","data","Float32Array","out","Int16Array","_floatTo16BitPCM","VAD","options","option","fftSize","bufferLen","voice_stop","voice_start","smoothingTimeConstant","energy_offset","energy_threshold_ratio_pos","energy_threshold_ratio_neg","energy_integration","filter","f","v","source","context","debug","hasOwnProperty","Error","hertzPerBin","iterationFrequency","iterationPeriod","console","log","setFilter","shape","iLen","j","jLen","ready","vadState","energy_threshold_pos","energy_threshold_neg","voiceTrend","voiceTrendMax","voiceTrendMin","voiceTrendStart","voiceTrendEnd","damper","analyser","createAnalyser","floatFrequencyData","frequencyBinCount","floatFrequencyDataLinear","connect","scriptProcessorNode","createScriptProcessor","destination","self","onaudioprocess","event","getFloatFrequencyData","update","monitor","logging","log_i","log_limit","triggerLog","limit","msg","fft","pow","getEnergy","energy","signal","start","end","integration","canvas_id","sourceNode","audioContext","canvas","document","getElementById","canvasContext","getContext","loop","bufferLength","dataArray","Uint8Array","window","setTimeout","clearFrame","width","clientWidth","height","clientHeight","WIDTH","HEIGHT","renderFrame","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","parseInt","barHeight","x","l","clearRect","arguments","undefined","beforeRecording","pauseRecording","putRecording","afterRecording","micFailed","voiceStop","voiceStart","visCanvasID","canvasID","bufferSize","records","isPause","isRecording","duration","volume","_duration","vad","vis","activity","AudioContext","webkitAudioContext","close","navigator","mediaDevices","getUserMedia","video","audio","channelCount","echoCancellation","then","_micCaptured","bind","catch","_micError","lameEncoder","Encoder","stop","stream","getTracks","forEach","track","disconnect","processor","record","finish","convertTimeMMSS","_this","createMediaStreamSource","_voiceStop","put","_voiceStart","error","ev","flushPrevious","sample","inputBuffer","getChannelData","sum","encode","parseFloat","currentTime","toFixed","sqrt","axios","Korero","name","vadOn","recordingOn","recorder","buttonText","transcriptions","icon","loadRecording","methods","deleteObject","e","splice","stopRecording","isMobile","test","userAgent","p_not_word","n","probabilities","p_word","mounted","startVAD","onclick","transcription","status","text","unshift","formData","FormData","enctype","append","post","response","metadata","words","prob","word","char","render","_vm","_h","$createElement","_c","_self","staticClass","class","on","loading","attrs","_v","active","mobile","_e","_l","item","index","click","$event","show_metadata","character","style","backgroundColor","_s","_m","acoustic","entropy","audio_url","src","controls","play","_withStripped","esExports","staticRenderFns","components_Korero","disposed","Component","normalizeComponent","ssrContext","__file","src_components_Korero","Vue","use","vueCustomElement","customElement","content","locals"],"mappings":"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","file":"static/js/app.6664.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.Korero[data-v-3a451344] {\\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  text-align: center;\\n  color: #2c3e50;\\n  font-size: 14px;\\n}\\nbutton.delete[data-v-3a451344]{\\n  position: absolute;\\n  right: 0px;\\n  top: 0px;\\n  display: block;\\n  border: 0px;\\n  margin: 2px;\\n  font-size: 0.7em;\\n  color: #696969;\\n  cursor: pointer;\\n  outline: none;\\n  background: none;\\n}\\n.transcription[data-v-3a451344]{\\n  position: relative;\\n  width: 100%;\\n  margin: 20px 30px 20px 30px;\\n  max-width: 500px;\\n  /*margin-top: 20px; */\\n  font-size: 1.5em;\\n  border-radius: 8px;\\n  /*box-shadow: 0px 2px 6px -2px rgba(0,0,0,1)  */\\n  border: 1px solid black;\\n}\\n.transcription.Transcribing[data-v-3a451344]{\\n  border: 0px;\\n}\\n.transcription .text[data-v-3a451344] {\\n  padding: 15px 20px;\\n}\\n.transcription[data-v-3a451344]:nth-of-type(1){\\n  margin-top: 40px;\\n}\\ndiv.transcription.Success div.text [class*=fa][data-v-3a451344]{\\n  display: none;\\n}\\n.Korero[data-v-3a451344], .header[data-v-3a451344], .body[data-v-3a451344]{\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n.body[data-v-3a451344]{\\n  height: 100vh;\\n  margin-top: -225px;\\n}\\n.header[data-v-3a451344]{\\n  padding-bottom: 15px;\\n  z-index: 1;\\n  background-color: white;\\n  padding-left: 15px;\\n  padding-right: 15px;\\n}\\n#transcriptions[data-v-3a451344]{\\n  z-index: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  overflow-y: scroll;\\n  -ms-flex-wrap: nowrap;\\n      flex-wrap: nowrap;\\n  -webkit-overflow-scrolling: touch;\\n  -ms-overflow-style: -ms-autohiding-scrollbar; \\n  -webkit-box-align: center; \\n      -ms-flex-align: center; \\n          align-items: center;  \\n  margin-top: 232px;\\n  height: 100vh;    \\n  padding-left: 15px;\\n  padding-right: 15px;\\n}\\n#vadStatus[data-v-3a451344]{\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  width: 100%;\\n  max-width: 500px;  \\n  height: 100px;\\n  -ms-flex-item-align: center;\\n      align-self: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n#vadStatus canvas[data-v-3a451344]{\\n  z-index: 1;\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n  background-color: #333;\\n}\\n#vadStatus div[data-v-3a451344]{\\n  height: 100%;\\n  width: 100%;\\n  border: 4px solid black;\\n  border-radius: 4px;\\n}\\n#vadStatus.active div[data-v-3a451344]{\\n  border-color: red;\\n}\\n#vadStatus.mobile[data-v-3a451344]{\\n  height: 28px;\\n  max-width: 150px;\\n}\\n#vadStatus.mobile div span[data-v-3a451344]{\\n  display: block;\\n  padding: 4px;\\n}\\n#vadStatus.mobile div[data-v-3a451344]{\\n  color: white;\\n  font-weight: 700;\\n  background-color: black;\\n}\\n#vadStatus.mobile.active div[data-v-3a451344]{\\n  background-color: red;\\n}\\n#startVAD[data-v-3a451344] {\\n  z-index: 2;\\n  -ms-flex-item-align: center;\\n      align-self: center;\\n  margin: 15px;\\n  outline: none;\\n  background-color: rgb(40,40,40);\\n  color: white;\\n  width: 80px;\\n  height: 80px;\\n  border: 2px solid black;\\n  border-radius: 40px;\\n  padding: 8px 16px;\\n  cursor: pointer;\\n}\\n#startVAD [class*=fa][data-v-3a451344]{\\n  font-size: 34px !important;\\n}\\n#startVAD.on[data-v-3a451344] {\\n  background-color: rgba(255, 40, 40, 0.75);\\n  border-color: rgb(200, 40, 40);\\n}\\n#startVAD.on.vad[data-v-3a451344] {\\n  background-color: rgba(255, 40, 40, 1);\\n}\\n#startVAD.on .fa-microphone[data-v-3a451344]{\\n  display: none;\\n}\\n#startVAD .fa-stop[data-v-3a451344], #startVAD .fa-spinner[data-v-3a451344]{\\n  display: none;\\n}\\n#startVAD.on .fa-stop[data-v-3a451344]{\\n  display: initial;\\n}\\n#startVAD.on.loading .fa-spinner[data-v-3a451344]{\\n  display: initial;\\n}\\naudio[data-v-3a451344]{\\n  outline: none;\\n  width: 100%;\\n  padding-bottom: 15px;\\n}\\n.audio[data-v-3a451344]{\\n  padding: 0px 15px 0px 15px;\\n}\\ndiv.confidence[data-v-3a451344]{\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\ndiv.char[data-v-3a451344]{\\n  /*line-height: 20px;*/\\n}\\ndiv.char-wrapper[data-v-3a451344]{\\n  width: 20px;\\n  display: inline-block;\\n  text-align: center;\\n}\\ndiv.word[data-v-3a451344]{\\n  margin-right: 20px;\\n}\\ndiv.word[data-v-3a451344]:last-child{\\n  margin-right: 0px;\\n}\\ndiv.word-wrapper[data-v-3a451344]{\\n  /*width: 20px*/\\n}\\nspan.char[data-v-3a451344]{\\n  display: inline-block;\\n  width: 20px;\\n  text-align: center;\\n}\\nspan.prob[data-v-3a451344]{\\n  display: inline-block;\\n  font-size: 8px;\\n  /*line-he*/ight: 0px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/livestream/tehikudev/korero-maori-demos/vad-korero-demo/src/components/src/components/Korero.vue\"],\"names\":[],\"mappings\":\";AAmPA;EACA,oDAAA;EACA,oCAAA;EACA,mCAAA;EACA,mBAAA;EACA,eAAA;EACA,gBAAA;CACA;AACA;EACA,mBAAA;EACA,WAAA;EACA,SAAA;EACA,eAAA;EACA,YAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;CACA;AACA;EACA,mBAAA;EACA,YAAA;EACA,4BAAA;EACA,iBAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,gDAAA;EACA,wBAAA;CACA;AACA;EACA,YAAA;CACA;AACA;EACA,mBAAA;CACA;AACA;EACA,iBAAA;CACA;AAEA;EACA,cAAA;CACA;AACA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,6BAAA;EAAA,8BAAA;MAAA,2BAAA;UAAA,uBAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,wBAAA;CACA;AACA;EACA,cAAA;EACA,mBAAA;CACA;AACA;EACA,qBAAA;EACA,WAAA;EACA,wBAAA;EACA,mBAAA;EACA,oBAAA;CACA;AACA;EACA,WAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,6BAAA;EAAA,8BAAA;MAAA,2BAAA;UAAA,uBAAA;EACA,mBAAA;EACA,sBAAA;MAAA,kBAAA;EACA,kCAAA;EACA,6CAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,kBAAA;EACA,cAAA;EACA,mBAAA;EACA,oBAAA;CACA;AAEA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,YAAA;EACA,iBAAA;EACA,cAAA;EACA,4BAAA;MAAA,mBAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;CACA;AACA;EACA,WAAA;EACA,eAAA;EACA,aAAA;EACA,YAAA;EACA,uBAAA;CACA;AACA;EACA,aAAA;EACA,YAAA;EACA,wBAAA;EACA,mBAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,aAAA;EACA,iBAAA;CACA;AACA;EACA,eAAA;EACA,aAAA;CACA;AACA;EACA,aAAA;EACA,iBAAA;EACA,wBAAA;CACA;AACA;EACA,sBAAA;CACA;AACA;EACA,WAAA;EACA,4BAAA;MAAA,mBAAA;EACA,aAAA;EACA,cAAA;EACA,gCAAA;EACA,aAAA;EACA,YAAA;EACA,aAAA;EACA,wBAAA;EACA,oBAAA;EACA,kBAAA;EACA,gBAAA;CACA;AACA;EACA,2BAAA;CACA;AACA;EACA,0CAAA;EACA,+BAAA;CACA;AACA;EACA,uCAAA;CACA;AACA;EACA,cAAA;CACA;AACA;EACA,cAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,cAAA;EACA,YAAA;EACA,qBAAA;CACA;AACA;EACA,2BAAA;CACA;AAEA;EACA,4BAAA;EAAA,4BAAA;EAAA,qBAAA;EACA,oBAAA;MAAA,gBAAA;CACA;AACA;EACA,sBAAA;CACA;AACA;EACA,YAAA;EACA,sBAAA;EACA,mBAAA;CACA;AACA;EACA,mBAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,sBAAA;EACA,YAAA;EACA,mBAAA;CACA;AACA;EACA,sBAAA;EACA,eAAA;EACA,WAAA,UAAA;CACA\",\"file\":\"Korero.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"Korero\\\">\\n    <div class=\\\"header\\\">\\n      <button id=\\\"startVAD\\\" v-bind:class=\\\"{ vad: vadOn, on: recordingOn, 'loading': loadRecording}\\\">\\n        <i class=\\\"fa fa-microphone\\\" ></i>\\n        <i class=\\\"fa fa-stop\\\" ></i>\\n        <i class=\\\"fa fa-spinner fa-spin\\\"></i>\\n      </button>\\n      <div id=\\\"vadStatus\\\" v-bind:class=\\\"{ active: vadOn, 'mobile': isMobile()}\\\">\\n        <div>\\n          <canvas id=\\\"canvas\\\" v-if=\\\"!isMobile()\\\"></canvas>\\n          <span v-if=\\\"isMobile() && vadOn && recordingOn\\\">Voice Detected</span>\\n          <span v-if=\\\"isMobile() && recordingOn && !vadOn\\\">Listening</span>\\n          <span v-if=\\\"isMobile()\\\">Hit Record</span>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"body\\\">\\n      <div id=\\\"transcriptions\\\">\\n        <div v-for=\\\"(item, index) in transcriptions\\\" class='transcription' v-bind:class=\\\"[item.status]\\\" v-if=\\\"item.status != 'Failed'\\\"> \\n          <button class=\\\"delete\\\" v-if=\\\"item.status != 'Transcribing'\\\" v-on:click=\\\"deleteObject(index)\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n          <div class='text'>\\n            <i class=\\\"fa fa-spinner fa-spin\\\" v-bind:class=\\\"[item.status]\\\" v-if=\\\"item.status == 'Transcribing'\\\" ></i>\\n            <div v-if=\\\"item.show_metadata\\\">\\n              <div class='confidence'>\\n                <div class=\\\"char\\\" v-for=\\\"character in item.metadata\\\">\\n                  <div class=\\\"char-wrapper\\\" v-if=\\\"character.char==' '\\\"\\n                       :style=\\\"{backgroundColor: `rgb(255, 40, 40, ${1-character.prob})`}\\\">\\n                       <span class=\\\"char\\\">&nbsp;&nbsp;</span>\\n                       <br><span class=\\\"prob\\\">&nbsp;{{character.prob.toFixed(2)}}&nbsp;</span>\\n                  </div>\\n                  <div class=\\\"char-wrapper\\\" v-if=\\\"character.char!=' '\\\"\\n                       :style=\\\"{\\n                          backgroundColor: `rgba(255, 40, 40, ${1-character.prob})`\\n                        }\\\">\\n                      <span class=\\\"char\\\">{{character.char}}</span>\\n                      <br><span class=\\\"prob\\\">&nbsp;{{character.prob.toFixed(2)}}&nbsp;</span>\\n                  </div>\\n                </div>\\n              </div>\\n              <div><br></div>\\n              <div class='confidence'>          \\n                <div class=\\\"char\\\" v-for=\\\"character in item.metadata\\\">\\n                  <div class=\\\"char-wrapper\\\" v-if=\\\"character.acoustic==' '\\\"\\n                       :style=\\\"{backgroundColor: `rgb(255, 40, 40, ${character.entropy})`}\\\">\\n                       <span class=\\\"char\\\">&nbsp;&nbsp;</span>\\n                       <br><span class=\\\"prob\\\">&nbsp;{{character.entropy.toFixed(2)}}&nbsp;</span>\\n                  </div>\\n                  <div class=\\\"char-wrapper\\\" v-if=\\\"character.acoustic!=' '\\\"\\n                       :style=\\\"{\\n                          backgroundColor: `rgba(255, 40, 40, ${character.entropy})`\\n                        }\\\">\\n                      <span class=\\\"char\\\">{{character.acoustic}}</span>\\n                      <br><span class=\\\"prob\\\">&nbsp;{{character.entropy.toFixed(2)}}&nbsp;</span>\\n                  </div>\\n                </div>\\n              </div>\\n              <div><br></div>\\n              <div class='confidence'>          \\n                <div class=\\\"word\\\" v-for=\\\"word in item.words\\\"\\n                  :style=\\\"{\\n                      backgroundColor: `rgba(255, 40, 40, ${1-word.prob})`\\n                    }\\\">\\n                  <div class=\\\"word-wrapper\\\" \\n                    >\\n                      <span class=\\\"char\\\" v-for=\\\"char in word.word\\\" v-if=\\\"char != ' '\\\">{{char}}</span>\\n                      \\n                  </div><span class=\\\"prob\\\">{{word.prob.toFixed(2)}}</span>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div v-if=\\\"!item.show_metadata\\\">\\n            <div class='text' v-if=\\\"item.status != 'Transcribing'\\\">{{item.text}}</div>\\n          </div>\\n          <div class=\\\"audio\\\">\\n            <audio v-if=\\\"item.audio_url\\\" :src=\\\"item.audio_url\\\" type=\\\"audio/mp3\\\" controls v-on:play=\\\"stopRecording\\\"></audio>\\n          </div>\\n\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nimport recorder from '../lib/recorder.js'\\nconst ApiAuth = require('../../api_auth')\\nconst api_auth = ApiAuth.api_auth;\\nconst axios = require('axios');\\nexport default {\\n  name: 'Kōrero',\\n  data () {\\n    return {\\n      vadOn: false,\\n      recordingOn: false,\\n      recorder: null,\\n      buttonText: 'Start',\\n      transcriptions: [],\\n      icon: 'fa-microphone',\\n      loadRecording: false\\n    }\\n  },\\n  methods: {\\n    deleteObject: function (e) {\\n      this.transcriptions.splice(e, 1)\\n    },\\n    stopRecording: function () {\\n      try{this.recorder.stop();}\\n      catch(e){}\\n      this.recorder=null;\\n      this.vadOn = false;\\n      this.recordingOn = false\\n    },   \\n    isMobile() {\\n      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Mobile|SamsungBrowser|Opera Mini/i.test(navigator.userAgent)) {\\n        console.log(navigator.userAgent)\\n        return true\\n      } else {\\n        return false\\n      }\\n    },\\n    p_not_word: function(n, probabilities){\\n      if (n == 0){\\n        return 0\\n      }                                                                \\n      else {\\n        return probabilities[n - 1] * this.p_not_word(n - 1, probabilities) + (1 - probabilities[n - 1])\\n      }\\n    },\\n    p_word: function(probabilities){\\n      return 1 - this.p_not_word(probabilities.length, probabilities)      \\n    },\\n\\n  },\\n  mounted: function () {\\n\\n    startVAD.onclick = event => {\\n\\n      if (this.recorder==null){\\n        this.loadRecording = true\\n        this.recorder = new recorder({\\n          putRecording : (record) => {\\n            var transcription = {\\n              status: 'Transcribing',\\n              text: null,\\n              audio: null,\\n            }\\n            this.transcriptions.unshift(transcription)\\n            var formData = new FormData();\\n            formData.enctype=\\\"multipart/form-data\\\";\\n            formData.append('audio_file', record.blob, 'audio_file.mp3')            \\n            axios.post(\\n              api_auth['url'],\\n              formData,\\n              {\\n                headers: api_auth['headers'],\\n              })\\n            .then((response) => {\\n              if (response.data.transcription == '' || response.data.transcription == ' ' ){\\n                transcription.status = 'Failed'\\n                return\\n              }\\n              transcription['text'] = response.data.transcription\\n              transcription['show_metadata'] = false\\n              if (response.data.metadata){\\n                transcription['show_metadata'] = true\\n                transcription['metadata'] = response.data.metadata\\n\\n                var words = []\\n                var probs = []\\n                var prob = []\\n                var word = ''\\n                var start = 0\\n                for (var i=0; i <response.data.metadata.length; i++){\\n                  word = word + response.data.metadata[i].char\\n                  prob.push(response.data.metadata[i].prob)\\n                  if (response.data.metadata[i].char != ' '){\\n                    continue\\n                  } else {\\n                    words.push({'word': word, 'prob': this.p_word(prob)})\\n                    prob = []\\n                    start = i\\n                    word = ''\\n                  }\\n                }\\n                words.push({'word': word, 'prob': this.p_word(prob)})\\n                console.log(words)\\n                transcription['words'] = words\\n                console.log(transcription['metadata'])\\n              }\\n              \\n              transcription['audio_url'] = record.url\\n              transcription['status'] = 'Success'\\n            })\\n            .catch((error) => {\\n              transcription.status = 'Failed'\\n            })\\n\\n          },\\n          afterRecording  : (stream) =>{\\n            this.buttonText = 'Start'            \\n            this.recorder=null;\\n          },\\n          pauseRecording  : function(){console.log('paused')},\\n          micFailed       : function(){console.log('failed')},\\n          voiceStop: () => {\\n            \\n            this.vadOn = false\\n          },\\n          voiceStart: () => {\\n            this.vadOn = true\\n\\n          },\\n          canvasID: this.isMobile() ? null : 'canvas',\\n          bitRate         : 64,\\n          sampleRate      : 44100,\\n          // format          : this.format\\n        })\\n      }\\n\\n      if (this.recordingOn){\\n        this.recorder.stop();\\n        this.recorder=null;\\n        this.vadOn = false;\\n        this.recordingOn = false\\n        // this.buttonText = 'Start'\\n      } else {\\n        this.recorder.start()\\n        this.recordingOn = true\\n        this.buttonText = 'Stop'\\n        this.loadRecording = false\\n      }\\n      \\n\\n      }\\n  }\\n}\\n</script>\\n\\n<style scoped>\\n\\n.Korero {\\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  text-align: center;\\n  color: #2c3e50;\\n  font-size: 14px;\\n}\\nbutton.delete{\\n  position: absolute;\\n  right: 0px;\\n  top: 0px;\\n  display: block;\\n  border: 0px;\\n  margin: 2px;\\n  font-size: 0.7em;\\n  color: #696969;\\n  cursor: pointer;\\n  outline: none;\\n  background: none;\\n}\\n.transcription{\\n  position: relative;\\n  width: 100%;\\n  margin: 20px 30px 20px 30px;\\n  max-width: 500px;\\n  /*margin-top: 20px; */\\n  font-size: 1.5em;\\n  border-radius: 8px;\\n  /*box-shadow: 0px 2px 6px -2px rgba(0,0,0,1)  */\\n  border: 1px solid black;\\n}\\n.transcription.Transcribing{\\n  border: 0px;\\n}\\n.transcription .text {\\n  padding: 15px 20px;\\n}\\n.transcription:nth-of-type(1){\\n  margin-top: 40px;\\n}\\n\\ndiv.transcription.Success div.text [class*=fa]{\\n  display: none;\\n}\\n.Korero, .header, .body{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n.body{\\n  height: 100vh;\\n  margin-top: -225px;\\n}\\n.header{\\n  padding-bottom: 15px;\\n  z-index: 1;\\n  background-color: white;\\n  padding-left: 15px;\\n  padding-right: 15px;  \\n}\\n#transcriptions{\\n  z-index: 0;\\n  display: flex;\\n  flex-direction: column;\\n  overflow-y: scroll;\\n  flex-wrap: nowrap;\\n  -webkit-overflow-scrolling: touch;\\n  -ms-overflow-style: -ms-autohiding-scrollbar; \\n  align-items: center;  \\n  margin-top: 232px;\\n  height: 100vh;    \\n  padding-left: 15px;\\n  padding-right: 15px;\\n}\\n\\n#vadStatus{\\n  display: flex;\\n  width: 100%;\\n  max-width: 500px;  \\n  height: 100px;\\n  align-self: center;\\n  align-items: center;\\n}\\n#vadStatus canvas{\\n  z-index: 1;\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n  background-color: #333;\\n}\\n#vadStatus div{\\n  height: 100%;\\n  width: 100%;\\n  border: 4px solid black;\\n  border-radius: 4px;\\n}\\n#vadStatus.active div{\\n  border-color: red;\\n}\\n#vadStatus.mobile{\\n  height: 28px;\\n  max-width: 150px;  \\n}\\n#vadStatus.mobile div span{\\n  display: block;\\n  padding: 4px;\\n}\\n#vadStatus.mobile div{\\n  color: white;\\n  font-weight: 700;\\n  background-color: black;\\n}\\n#vadStatus.mobile.active div{\\n  background-color: red;\\n}\\n#startVAD {\\n  z-index: 2;\\n  align-self: center;\\n  margin: 15px;\\n  outline: none;\\n  background-color: rgb(40,40,40);\\n  color: white;\\n  width: 80px;\\n  height: 80px;\\n  border: 2px solid black;\\n  border-radius: 40px;\\n  padding: 8px 16px;\\n  cursor: pointer;\\n}\\n#startVAD [class*=fa]{\\n  font-size: 34px !important;\\n}\\n#startVAD.on {\\n  background-color: rgba(255, 40, 40, 0.75);\\n  border-color: rgb(200, 40, 40);\\n}\\n#startVAD.on.vad {\\n  background-color: rgba(255, 40, 40, 1);\\n}\\n#startVAD.on .fa-microphone{\\n  display: none;\\n}\\n#startVAD .fa-stop, #startVAD .fa-spinner{\\n  display: none;\\n}\\n#startVAD.on .fa-stop{\\n  display: initial;\\n}\\n#startVAD.on.loading .fa-spinner{\\n  display: initial;\\n}\\naudio{\\n  outline: none;\\n  width: 100%;\\n  padding-bottom: 15px;\\n}\\n.audio{\\n  padding: 0px 15px 0px 15px;\\n}\\n\\ndiv.confidence{\\n  display: inline-flex;\\n  flex-wrap: wrap;\\n}\\ndiv.char{\\n  /*line-height: 20px;*/\\n}\\ndiv.char-wrapper{\\n  width: 20px;\\n  display: inline-block;\\n  text-align: center;\\n}\\ndiv.word{\\n  margin-right: 20px;\\n}\\ndiv.word:last-child{\\n  margin-right: 0px;\\n}\\ndiv.word-wrapper{\\n  /*width: 20px*/\\n}\\nspan.char{\\n  display: inline-block;\\n  width: 20px;\\n  text-align: center;\\n}\\nspan.prob{\\n  display: inline-block;\\n  font-size: 8px;\\n  /*line-he*/ight: 0px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3a451344\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Korero.vue\n// module id = 4fnQ\n// module chunks = 1","\nif (process.env.NODE_ENV === 'development'){\n\tapi_auth = {\n\t\theaders:{\n\t\t\tAuthorization: \"Token 899f4739922881b0008716d7253269af9a77ca5e\",\n\t\t},\n\t\turl: 'https://corporalocal.io/api/transcription/?method=stream'\n\t}\t\t\n} else {\n\tapi_auth = {\n\t\theaders:{\n\t\t},\n\t\turl: '/api/transcription/?method=stream'\n\t}\t\n}\n\n\nexports.api_auth = api_auth\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./api_auth.js\n// module id = BLBT\n// module chunks = 1","import { Mp3Encoder } from 'lamejs'\n\nexport default class {\n  constructor(config) {\n    this.bitRate    = config.bitRate || 96\n    this.sampleRate = config.sampleRate || 44100\n    this.dataBuffer = []\n    this.encoder    = new Mp3Encoder(1, this.sampleRate, this.bitRate)\n  }\n\n  flushPrevious(X){\n    // This clears X items in the buffer\n    this.dataBuffer = this.dataBuffer.slice(this.dataBuffer.length - X)\n  }\n\n  encode(arrayBuffer) {\n    const maxSamples = 1152\n    const samples    = this._convertBuffer(arrayBuffer)\n    let remaining    = samples.length\n\n    for (let i = 0; remaining >= 0; i += maxSamples) {\n      const left = samples.subarray(i, i + maxSamples)\n      const buffer = this.encoder.encodeBuffer(left)\n      this.dataBuffer.push(new Int8Array(buffer))\n      remaining -= maxSamples\n    }\n  }\n\n  finish() {\n    this.dataBuffer.push(this.encoder.flush())\n    const blob = new Blob(this.dataBuffer, { type: 'audio/mp3' })\n    this.dataBuffer = []\n\n    return {\n      id    : Date.now(),\n      blob  : blob,\n      url   : URL.createObjectURL(blob)\n    }\n  }\n\n  _floatTo16BitPCM(input, output) {\n    for (let i = 0; i < input.length; i++) {\n      const s = Math.max(-1, Math.min(1, input[i]))\n      output[i] = (s < 0 ? s * 0x8000 : s * 0x7FFF)\n    }\n  }\n\n  _convertBuffer(arrayBuffer) {\n    const data = new Float32Array(arrayBuffer)\n    const out = new Int16Array(arrayBuffer.length)\n    this._floatTo16BitPCM(data, out)\n    return out\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/encoder.js","\nexport default class VAD {\n\n  constructor(options) {\n    // Default options\n    this.options = {\n      fftSize: 512*.5,\n      bufferLen: 512*.5, \n      voice_stop: function() {},\n      voice_start: function() {},\n      smoothingTimeConstant: 0.99, \n      energy_offset: 1e-8, // The initial offset.\n      energy_threshold_ratio_pos: 4, // Signal must be twice the offset\n      energy_threshold_ratio_neg: 0.25, // Signal must be half the offset\n      energy_integration: 1, // Size of integration change compared to the signal per second.\n      filter: [\n        {f: 200, v:0}, // 0 -> 200 is 0\n        {f: 2000, v:1} // 200 -> 2k is 1\n      ],\n      source: null,\n      context: null,\n      debug: false,\n    };\n\n    // User options\n    for(var option in options) {\n      if(options.hasOwnProperty(option)) {\n        this.options[option] = options[option];\n      }\n    }\n\n    // Require source\n   if(!this.options.source)\n     throw new Error(\"The options must specify a MediaStreamAudioSourceNode.\");\n\n    // Set this.options.context\n    this.options.context = this.options.source.context;\n\n    // Calculate time relationships\n    this.hertzPerBin = this.options.context.sampleRate / this.options.fftSize;\n    this.iterationFrequency = this.options.context.sampleRate / this.options.bufferLen;\n    this.iterationPeriod = 1 / this.iterationFrequency;\n\n    var DEBUG = this.options.debug;\n    if(DEBUG) {console.log(\n      'Vad' +\n      ' | sampleRate: ' + this.options.context.sampleRate +\n      ' | hertzPerBin: ' + this.hertzPerBin +\n      ' | iterationFrequency: ' + this.iterationFrequency +\n      ' | iterationPeriod: ' + this.iterationPeriod\n    )};\n\n    this.setFilter = function(shape) {\n      this.filter = [];\n      for(var i = 0, iLen = this.options.fftSize / 2; i < iLen; i++) {\n        this.filter[i] = 0;\n        for(var j = 0, jLen = shape.length; j < jLen; j++) {\n          if(i * this.hertzPerBin < shape[j].f) {\n            this.filter[i] = shape[j].v;\n            break; // Exit j loop\n          }\n        }\n      }\n    }\n\n    this.setFilter(this.options.filter);\n\n    this.ready = {};\n    this.vadState = false; // True when Voice Activity Detected\n\n    // Energy detector props\n    this.energy_offset = this.options.energy_offset;\n    this.energy_threshold_pos = this.energy_offset * this.options.energy_threshold_ratio_pos;\n    this.energy_threshold_neg = this.energy_offset * this.options.energy_threshold_ratio_neg;\n\n    this.voiceTrend = 0;\n    this.voiceTrendMax = 10*1.5;\n    this.voiceTrendMin = -5;\n    this.voiceTrendStart = 2;\n    this.voiceTrendEnd = -5;\n    this.damper = 0.02\n    this.voiceTrendMin = this.voiceTrendEnd - this.damper/10;\n    // Create analyser \n    this.analyser = this.options.context.createAnalyser();\n    this.analyser.smoothingTimeConstant = this.options.smoothingTimeConstant; // 0.99;\n    this.analyser.fftSize = this.options.fftSize;\n\n    this.floatFrequencyData = new Float32Array(this.analyser.frequencyBinCount);\n\n    // Setup local storage of the Linear FFT data\n    this.floatFrequencyDataLinear = new Float32Array(this.floatFrequencyData.length);\n\n    // Connect this.analyser\n    this.options.source.connect(this.analyser); \n\n    // Create ScriptProcessorNode\n    this.scriptProcessorNode = this.options.context.createScriptProcessor(this.options.bufferLen, 1, 1);\n\n    // Connect scriptProcessorNode (Theretically, not required)\n    this.scriptProcessorNode.connect(this.options.context.destination);\n\n    // Create callback to update/analyze floatFrequencyData\n    var self = this;\n    this.scriptProcessorNode.onaudioprocess = function(event) {\n      self.analyser.getFloatFrequencyData(self.floatFrequencyData);\n      self.update();\n      self.monitor();\n    };\n\n    // Connect scriptProcessorNode\n    this.options.source.connect(this.scriptProcessorNode);\n\n    // log stuff\n    this.logging = false;\n    this.log_i = 0;\n    this.log_limit = 100;\n\n    this.triggerLog = function(limit) {\n      this.logging = true;\n      this.log_i = 0;\n      this.log_limit = typeof limit === 'number' ? limit : this.log_limit;\n    }\n\n    this.log = function(msg) {\n      if(this.logging && this.log_i < this.log_limit) {\n        this.log_i++;\n        console.log(msg);\n      } else {\n        this.logging = false;\n      }\n    }\n\n    this.update = function() {\n      // Update the local version of the Linear FFT\n      var fft = this.floatFrequencyData;\n      for(var i = 0, iLen = fft.length; i < iLen; i++) {\n        this.floatFrequencyDataLinear[i] = Math.pow(10, fft[i] / 10);\n      }\n      this.ready = {};\n    }\n\n    this.getEnergy = function() {\n      if(this.ready.energy) {\n        return this.energy;\n      }\n\n      var energy = 0;\n      var fft = this.floatFrequencyDataLinear;\n\n      for(var i = 0, iLen = fft.length; i < iLen; i++) {\n        energy += this.filter[i] * fft[i] * fft[i];\n      }\n\n      this.energy = energy;\n      this.ready.energy = true;\n\n      return energy;\n    }\n\n    this.monitor = function() {\n      var energy = this.getEnergy();\n      var signal = energy - this.energy_offset;\n\n      if(signal > this.energy_threshold_pos) {\n        this.voiceTrend = (this.voiceTrend + 1 > this.voiceTrendMax) ? this.voiceTrendMax : this.voiceTrend + 1;\n      } else if(signal < -this.energy_threshold_neg) {\n        this.voiceTrend = (this.voiceTrend - 1 < this.voiceTrendMin) ? this.voiceTrendMin : this.voiceTrend - 1*(this.vadState ? this.damper : 10);\n      } else {\n        // voiceTrend gets smaller\n        if(this.voiceTrend > 0) {\n          this.voiceTrend--;\n        } else if(this.voiceTrend < 0) {\n          this.voiceTrend++;\n        }\n      }\n\n      var start = false, end = false;\n      if(this.voiceTrend > this.voiceTrendStart) {\n        // Start of speech detected\n        start = true;\n      } else if(this.voiceTrend < this.voiceTrendEnd) {\n        // End of speech detected\n        end = true;\n      }\n\n      // Integration brings in the real-time aspect through the relationship with the frequency this functions is called.\n      var integration = signal * this.iterationPeriod * this.options.energy_integration;\n\n      // Idea?: The integration is affected by the voiceTrend magnitude? - Not sure. Not doing atm.\n\n      // The !end limits the offset delta boost till after the end is detected.\n      if(integration > 0 || !end) {\n        this.energy_offset += integration;\n      } else {\n        this.energy_offset += integration * 10;\n      }\n      this.energy_offset = this.energy_offset < 0 ? 0 : this.energy_offset;\n      this.energy_threshold_pos = this.energy_offset * this.options.energy_threshold_ratio_pos;\n      this.energy_threshold_neg = this.energy_offset * this.options.energy_threshold_ratio_neg;\n\n      // Broadcast the messages\n      if(start && !this.vadState) {\n        this.vadState = true;\n        this.options.voice_start();\n      }\n      if(end && this.vadState) {\n        this.vadState = false;\n        this.options.voice_stop();\n      }\n\n      this.log(\n        'e: ' + energy +\n        ' | e_of: ' + this.energy_offset +\n        ' | e+_th: ' + this.energy_threshold_pos +\n        ' | e-_th: ' + this.energy_threshold_neg +\n        ' | signal: ' + signal +\n        ' | int: ' + integration +\n        ' | voiceTrend: ' + this.voiceTrend +\n        ' | start: ' + start +\n        ' | end: ' + end\n      );\n\n      return signal;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/vad.js","\nexport default class {\n\n  constructor(canvas_id, sourceNode, audioContext){\n    var self = this\n    this.canvas = document.getElementById(canvas_id)\n    this.canvasContext = this.canvas.getContext(\"2d\")\n    this.loop = false\n    this.sourceNode = sourceNode\n    this.audioContext = audioContext\n    this.analyser = audioContext.createAnalyser();\n    this.analyser.fftSize = 32;\n\n\n    this.sourceNode.connect(this.analyser);\n    \n    this.bufferLength = this.analyser.frequencyBinCount;\n    this.dataArray = new Uint8Array(this.analyser.fftSize);\n\n  }\n\n  stop(){\n    this.loop = false\n    var self = this\n    window.setTimeout(function(){self.clearFrame()}, 200)\n  }\n\n  start(){\n    this.canvas.width = this.canvas.clientWidth;\n    this.canvas.height = this.canvas.clientHeight;    \n    this.WIDTH = this.canvas.clientWidth;\n    this.HEIGHT = this.canvas.clientHeight;    \n    this.loop = true\n    this.renderFrame();\n  }\n\n  renderFrame() {\n    var self = this\n    if (self.loop){\n      \n        window.requestAnimationFrame(function(){self.renderFrame()});\n        self.analyser.getByteFrequencyData(self.dataArray);\n        // self.canvasContext.clearRect(0, 0, self.WIDTH, self.HEIGHT);\n        self.canvasContext.fillStyle = \"#333\";\n        self.canvasContext.fillRect(0, 0, self.WIDTH, self.HEIGHT);\n\n        var barWidth = parseInt((self.WIDTH / self.bufferLength))\n        var barHeight = 0\n        var x = 0;\n\n        for (var i = 0; i < self.bufferLength/2; i++) {\n          barHeight = parseInt(self.dataArray[i]/255*self.HEIGHT*.9);\n          \n          var h = 345\n          var s = parseInt(73 * ( self.HEIGHT/barHeight * .5) )\n          var l = parseInt(90 * ( barHeight/self.HEIGHT))\n          \n          self.canvasContext.fillStyle = \"hsl(\" + h + \",\" + s + \"%,\" + l + \"%)\";\n          self.canvasContext.fillRect(2*x+1, self.HEIGHT - barHeight, 2*barWidth-2, barHeight);\n\n          x += barWidth;\n\n      }\n      \n    } else {\n      return;\n    }\n  }\n\n  clearFrame(){\n    var self = this\n    self.canvasContext.clearRect(0, 0, self.WIDTH, self.HEIGHT);\n    self.canvasContext.fillStyle = \"#333\";\n    self.canvasContext.fillRect(0, 0, self.WIDTH, self.HEIGHT);    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/visualize.js","import Encoder from './encoder'\nimport { convertTimeMMSS } from '../../node_modules/vue-audio-recorder/src/lib/utils'\nimport VAD from './vad.js'\nimport vis from './visualize'\n\nexport default class {\n  constructor (options = {}) {\n    this.beforeRecording = options.beforeRecording\n    this.pauseRecording  = options.pauseRecording\n    this.putRecording    = options.putRecording\n    this.afterRecording  = options.afterRecording\n    this.micFailed       = options.micFailed\n    this.voiceStop       = options.voiceStop\n    this.voiceStart      = options.voiceStart\n    this.visCanvasID     = options.canvasID || null\n\n    this.bitRate = options.bitRate || 96\n    this.sampleRate = options.sampleRate || 44100\n    this.bufferSize = 4096\n    this.records    = []\n\n    this.isPause     = false\n    this.isRecording = false\n\n    this.duration = 0\n    this.volume   = 0\n\n    this._duration = 0\n\n    this.vad = null\n    this.vis = null\n    this.activity = false\n    this.flush = false\n\n    this.vis = null\n\n    // Set Sample Rate according to device and browser campability\n    this.context = new(window.AudioContext || window.webkitAudioContext)()\n    this.sampleRate = this.context.sampleRate\n    this.context.close()\n  }\n\n\n\n  start () {\n    const constraints = {\n      video: false,\n      audio: {\n        channelCount: 1,\n        echoCancellation: true\n      }\n    }\n\n    this.beforeRecording && this.beforeRecording('start recording')\n\n    navigator.mediaDevices\n             .getUserMedia(constraints)\n             .then(this._micCaptured.bind(this))\n             .catch(this._micError.bind(this))\n    this.isPause = false\n    this.isRecording = true\n\n    this.lameEncoder = new Encoder({bitRate: this.bitRate , sampleRate: this.sampleRate })\n  }\n\n  stop () {\n    if (this.vis){\n      this.vis.stop()\n    }\n\n    this.stream.getTracks().forEach((track) => track.stop())\n    this.input.disconnect()\n    this.processor.disconnect()\n    this.context.close()\n\n    const record = this.lameEncoder.finish()\n    record.duration = convertTimeMMSS(this.duration)\n    // this.records.push(record)\n\n    this._duration = 0\n    this.duration  = 0\n\n    this.isPause     = false\n    this.isRecording = false\n\n    this.afterRecording && this.afterRecording(record)\n    \n  }\n\n  put () {\n    this.stream.getTracks().forEach((track) => track.stop())\n    this.input.disconnect()\n    this.processor.disconnect()\n    this.context.close()\n\n    const record = this.lameEncoder.finish()\n    record.duration = convertTimeMMSS(this.duration)\n    this.records.push(record)\n\n    this._duration = 0\n    this.duration  = 0\n\n    this.isPause     = false\n    this.isRecording = false\n    this.putRecording && this.putRecording(record)\n\n  }\n\n  pause () {\n    this.stream.getTracks().forEach((track) => track.stop())\n    this.input.disconnect()\n    this.processor.disconnect()\n    this.context.close()\n\n    this._duration = this.duration\n    this.isPause = true\n\n    this.pauseRecording && this.pauseRecording('pause recording')\n  }\n\n  recordList () {\n    return this.records\n  }\n\n  lastRecord () {\n    return this.records.slice(-1)\n  }\n\n  _micCaptured (stream) {\n    this.context    = new(window.AudioContext || window.webkitAudioContext)({sampleRate: this.sampleRate})\n    this.duration   = this._duration\n    this.input      = this.context.createMediaStreamSource(stream)\n    this.processor  = this.context.createScriptProcessor(this.bufferSize, 1, 1)\n    this.stream     = stream\n\n    this._voiceStop = () => {\n      this.voiceStop()\n      this.activity = false\n      this.put()\n      this.start()\n    }\n    this._voiceStart = () => {\n      this.voiceStart()\n      this.activity = true\n      this.flush = true\n    }\n\n    var options = {\n      debug: false,\n      source: this.input,\n      voice_stop: this._voiceStop,\n      voice_start: this._voiceStart,\n    }; \n        \n    // Create VAD\n    this.vad = new VAD(options)\n    \n    if (this.visCanvasID){\n      try{\n        this.vis = new vis(this.visCanvasID, this.input, this.input.context)\n        this.vis.start()\n      } catch(error){\n        console.log(error)\n      }\n    }\n\n    this.processor.onaudioprocess = (ev) => {\n      if (this.activity){\n        if (this.flush){\n          this.lameEncoder.flushPrevious(10*1.5)\n          this.flush = false\n        }\n      } else {\n      }\n      const sample = ev.inputBuffer.getChannelData(0)\n      let sum = 0.0\n\n      this.lameEncoder.encode(sample)\n\n      for (let i = 0; i < sample.length; ++i) {\n        sum += sample[i] * sample[i]\n      }\n\n      this.duration = parseFloat(this._duration) + parseFloat(this.context.currentTime.toFixed(2))\n      this.volume = Math.sqrt(sum / sample.length).toFixed(2)\n    }\n\n    this.input.connect(this.processor)\n    this.processor.connect(this.context.destination)\n  }\n\n  _micError (error) {\n    this.micFailed && this.micFailed(error)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/recorder.js","<template>\n  <div class=\"Korero\">\n    <div class=\"header\">\n      <button id=\"startVAD\" v-bind:class=\"{ vad: vadOn, on: recordingOn, 'loading': loadRecording}\">\n        <i class=\"fa fa-microphone\" ></i>\n        <i class=\"fa fa-stop\" ></i>\n        <i class=\"fa fa-spinner fa-spin\"></i>\n      </button>\n      <div id=\"vadStatus\" v-bind:class=\"{ active: vadOn, 'mobile': isMobile()}\">\n        <div>\n          <canvas id=\"canvas\" v-if=\"!isMobile()\"></canvas>\n          <span v-if=\"isMobile() && vadOn && recordingOn\">Voice Detected</span>\n          <span v-if=\"isMobile() && recordingOn && !vadOn\">Listening</span>\n          <span v-if=\"isMobile()\">Hit Record</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"body\">\n      <div id=\"transcriptions\">\n        <div v-for=\"(item, index) in transcriptions\" class='transcription' v-bind:class=\"[item.status]\" v-if=\"item.status != 'Failed'\"> \n          <button class=\"delete\" v-if=\"item.status != 'Transcribing'\" v-on:click=\"deleteObject(index)\"><i class=\"fa fa-times\"></i></button>\n          <div class='text'>\n            <i class=\"fa fa-spinner fa-spin\" v-bind:class=\"[item.status]\" v-if=\"item.status == 'Transcribing'\" ></i>\n            <div v-if=\"item.show_metadata\">\n              <div class='confidence'>\n                <div class=\"char\" v-for=\"character in item.metadata\">\n                  <div class=\"char-wrapper\" v-if=\"character.char==' '\"\n                       :style=\"{backgroundColor: `rgb(255, 40, 40, ${1-character.prob})`}\">\n                       <span class=\"char\">&nbsp;&nbsp;</span>\n                       <br><span class=\"prob\">&nbsp;{{character.prob.toFixed(2)}}&nbsp;</span>\n                  </div>\n                  <div class=\"char-wrapper\" v-if=\"character.char!=' '\"\n                       :style=\"{\n                          backgroundColor: `rgba(255, 40, 40, ${1-character.prob})`\n                        }\">\n                      <span class=\"char\">{{character.char}}</span>\n                      <br><span class=\"prob\">&nbsp;{{character.prob.toFixed(2)}}&nbsp;</span>\n                  </div>\n                </div>\n              </div>\n              <div><br></div>\n              <div class='confidence'>          \n                <div class=\"char\" v-for=\"character in item.metadata\">\n                  <div class=\"char-wrapper\" v-if=\"character.acoustic==' '\"\n                       :style=\"{backgroundColor: `rgb(255, 40, 40, ${character.entropy})`}\">\n                       <span class=\"char\">&nbsp;&nbsp;</span>\n                       <br><span class=\"prob\">&nbsp;{{character.entropy.toFixed(2)}}&nbsp;</span>\n                  </div>\n                  <div class=\"char-wrapper\" v-if=\"character.acoustic!=' '\"\n                       :style=\"{\n                          backgroundColor: `rgba(255, 40, 40, ${character.entropy})`\n                        }\">\n                      <span class=\"char\">{{character.acoustic}}</span>\n                      <br><span class=\"prob\">&nbsp;{{character.entropy.toFixed(2)}}&nbsp;</span>\n                  </div>\n                </div>\n              </div>\n              <div><br></div>\n              <div class='confidence'>          \n                <div class=\"word\" v-for=\"word in item.words\"\n                  :style=\"{\n                      backgroundColor: `rgba(255, 40, 40, ${1-word.prob})`\n                    }\">\n                  <div class=\"word-wrapper\" \n                    >\n                      <span class=\"char\" v-for=\"char in word.word\" v-if=\"char != ' '\">{{char}}</span>\n                      \n                  </div><span class=\"prob\">{{word.prob.toFixed(2)}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div v-if=\"!item.show_metadata\">\n            <div class='text' v-if=\"item.status != 'Transcribing'\">{{item.text}}</div>\n          </div>\n          <div class=\"audio\">\n            <audio v-if=\"item.audio_url\" :src=\"item.audio_url\" type=\"audio/mp3\" controls v-on:play=\"stopRecording\"></audio>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport recorder from '../lib/recorder.js'\nconst ApiAuth = require('../../api_auth')\nconst api_auth = ApiAuth.api_auth;\nconst axios = require('axios');\nexport default {\n  name: 'Kōrero',\n  data () {\n    return {\n      vadOn: false,\n      recordingOn: false,\n      recorder: null,\n      buttonText: 'Start',\n      transcriptions: [],\n      icon: 'fa-microphone',\n      loadRecording: false\n    }\n  },\n  methods: {\n    deleteObject: function (e) {\n      this.transcriptions.splice(e, 1)\n    },\n    stopRecording: function () {\n      try{this.recorder.stop();}\n      catch(e){}\n      this.recorder=null;\n      this.vadOn = false;\n      this.recordingOn = false\n    },   \n    isMobile() {\n      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Mobile|SamsungBrowser|Opera Mini/i.test(navigator.userAgent)) {\n        console.log(navigator.userAgent)\n        return true\n      } else {\n        return false\n      }\n    },\n    p_not_word: function(n, probabilities){\n      if (n == 0){\n        return 0\n      }                                                                \n      else {\n        return probabilities[n - 1] * this.p_not_word(n - 1, probabilities) + (1 - probabilities[n - 1])\n      }\n    },\n    p_word: function(probabilities){\n      return 1 - this.p_not_word(probabilities.length, probabilities)      \n    },\n\n  },\n  mounted: function () {\n\n    startVAD.onclick = event => {\n\n      if (this.recorder==null){\n        this.loadRecording = true\n        this.recorder = new recorder({\n          putRecording : (record) => {\n            var transcription = {\n              status: 'Transcribing',\n              text: null,\n              audio: null,\n            }\n            this.transcriptions.unshift(transcription)\n            var formData = new FormData();\n            formData.enctype=\"multipart/form-data\";\n            formData.append('audio_file', record.blob, 'audio_file.mp3')            \n            axios.post(\n              api_auth['url'],\n              formData,\n              {\n                headers: api_auth['headers'],\n              })\n            .then((response) => {\n              if (response.data.transcription == '' || response.data.transcription == ' ' ){\n                transcription.status = 'Failed'\n                return\n              }\n              transcription['text'] = response.data.transcription\n              transcription['show_metadata'] = false\n              if (response.data.metadata){\n                transcription['show_metadata'] = true\n                transcription['metadata'] = response.data.metadata\n\n                var words = []\n                var probs = []\n                var prob = []\n                var word = ''\n                var start = 0\n                for (var i=0; i <response.data.metadata.length; i++){\n                  word = word + response.data.metadata[i].char\n                  prob.push(response.data.metadata[i].prob)\n                  if (response.data.metadata[i].char != ' '){\n                    continue\n                  } else {\n                    words.push({'word': word, 'prob': this.p_word(prob)})\n                    prob = []\n                    start = i\n                    word = ''\n                  }\n                }\n                words.push({'word': word, 'prob': this.p_word(prob)})\n                console.log(words)\n                transcription['words'] = words\n                console.log(transcription['metadata'])\n              }\n              \n              transcription['audio_url'] = record.url\n              transcription['status'] = 'Success'\n            })\n            .catch((error) => {\n              transcription.status = 'Failed'\n            })\n\n          },\n          afterRecording  : (stream) =>{\n            this.buttonText = 'Start'            \n            this.recorder=null;\n          },\n          pauseRecording  : function(){console.log('paused')},\n          micFailed       : function(){console.log('failed')},\n          voiceStop: () => {\n            \n            this.vadOn = false\n          },\n          voiceStart: () => {\n            this.vadOn = true\n\n          },\n          canvasID: this.isMobile() ? null : 'canvas',\n          bitRate         : 64,\n          sampleRate      : 44100,\n          // format          : this.format\n        })\n      }\n\n      if (this.recordingOn){\n        this.recorder.stop();\n        this.recorder=null;\n        this.vadOn = false;\n        this.recordingOn = false\n        // this.buttonText = 'Start'\n      } else {\n        this.recorder.start()\n        this.recordingOn = true\n        this.buttonText = 'Stop'\n        this.loadRecording = false\n      }\n      \n\n      }\n  }\n}\n</script>\n\n<style scoped>\n\n.Korero {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: 14px;\n}\nbutton.delete{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  display: block;\n  border: 0px;\n  margin: 2px;\n  font-size: 0.7em;\n  color: #696969;\n  cursor: pointer;\n  outline: none;\n  background: none;\n}\n.transcription{\n  position: relative;\n  width: 100%;\n  margin: 20px 30px 20px 30px;\n  max-width: 500px;\n  /*margin-top: 20px; */\n  font-size: 1.5em;\n  border-radius: 8px;\n  /*box-shadow: 0px 2px 6px -2px rgba(0,0,0,1)  */\n  border: 1px solid black;\n}\n.transcription.Transcribing{\n  border: 0px;\n}\n.transcription .text {\n  padding: 15px 20px;\n}\n.transcription:nth-of-type(1){\n  margin-top: 40px;\n}\n\ndiv.transcription.Success div.text [class*=fa]{\n  display: none;\n}\n.Korero, .header, .body{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.body{\n  height: 100vh;\n  margin-top: -225px;\n}\n.header{\n  padding-bottom: 15px;\n  z-index: 1;\n  background-color: white;\n  padding-left: 15px;\n  padding-right: 15px;  \n}\n#transcriptions{\n  z-index: 0;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  flex-wrap: nowrap;\n  -webkit-overflow-scrolling: touch;\n  -ms-overflow-style: -ms-autohiding-scrollbar; \n  align-items: center;  \n  margin-top: 232px;\n  height: 100vh;    \n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n#vadStatus{\n  display: flex;\n  width: 100%;\n  max-width: 500px;  \n  height: 100px;\n  align-self: center;\n  align-items: center;\n}\n#vadStatus canvas{\n  z-index: 1;\n  display: block;\n  height: 100%;\n  width: 100%;\n  background-color: #333;\n}\n#vadStatus div{\n  height: 100%;\n  width: 100%;\n  border: 4px solid black;\n  border-radius: 4px;\n}\n#vadStatus.active div{\n  border-color: red;\n}\n#vadStatus.mobile{\n  height: 28px;\n  max-width: 150px;  \n}\n#vadStatus.mobile div span{\n  display: block;\n  padding: 4px;\n}\n#vadStatus.mobile div{\n  color: white;\n  font-weight: 700;\n  background-color: black;\n}\n#vadStatus.mobile.active div{\n  background-color: red;\n}\n#startVAD {\n  z-index: 2;\n  align-self: center;\n  margin: 15px;\n  outline: none;\n  background-color: rgb(40,40,40);\n  color: white;\n  width: 80px;\n  height: 80px;\n  border: 2px solid black;\n  border-radius: 40px;\n  padding: 8px 16px;\n  cursor: pointer;\n}\n#startVAD [class*=fa]{\n  font-size: 34px !important;\n}\n#startVAD.on {\n  background-color: rgba(255, 40, 40, 0.75);\n  border-color: rgb(200, 40, 40);\n}\n#startVAD.on.vad {\n  background-color: rgba(255, 40, 40, 1);\n}\n#startVAD.on .fa-microphone{\n  display: none;\n}\n#startVAD .fa-stop, #startVAD .fa-spinner{\n  display: none;\n}\n#startVAD.on .fa-stop{\n  display: initial;\n}\n#startVAD.on.loading .fa-spinner{\n  display: initial;\n}\naudio{\n  outline: none;\n  width: 100%;\n  padding-bottom: 15px;\n}\n.audio{\n  padding: 0px 15px 0px 15px;\n}\n\ndiv.confidence{\n  display: inline-flex;\n  flex-wrap: wrap;\n}\ndiv.char{\n  /*line-height: 20px;*/\n}\ndiv.char-wrapper{\n  width: 20px;\n  display: inline-block;\n  text-align: center;\n}\ndiv.word{\n  margin-right: 20px;\n}\ndiv.word:last-child{\n  margin-right: 0px;\n}\ndiv.word-wrapper{\n  /*width: 20px*/\n}\nspan.char{\n  display: inline-block;\n  width: 20px;\n  text-align: center;\n}\nspan.prob{\n  display: inline-block;\n  font-size: 8px;\n  /*line-he*/ight: 0px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Korero.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"Korero\" }, [\n    _c(\"div\", { staticClass: \"header\" }, [\n      _c(\n        \"button\",\n        {\n          class: {\n            vad: _vm.vadOn,\n            on: _vm.recordingOn,\n            loading: _vm.loadRecording\n          },\n          attrs: { id: \"startVAD\" }\n        },\n        [\n          _c(\"i\", { staticClass: \"fa fa-microphone\" }),\n          _vm._v(\" \"),\n          _c(\"i\", { staticClass: \"fa fa-stop\" }),\n          _vm._v(\" \"),\n          _c(\"i\", { staticClass: \"fa fa-spinner fa-spin\" })\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          class: { active: _vm.vadOn, mobile: _vm.isMobile() },\n          attrs: { id: \"vadStatus\" }\n        },\n        [\n          _c(\"div\", [\n            !_vm.isMobile()\n              ? _c(\"canvas\", { attrs: { id: \"canvas\" } })\n              : _vm._e(),\n            _vm._v(\" \"),\n            _vm.isMobile() && _vm.vadOn && _vm.recordingOn\n              ? _c(\"span\", [_vm._v(\"Voice Detected\")])\n              : _vm._e(),\n            _vm._v(\" \"),\n            _vm.isMobile() && _vm.recordingOn && !_vm.vadOn\n              ? _c(\"span\", [_vm._v(\"Listening\")])\n              : _vm._e(),\n            _vm._v(\" \"),\n            _vm.isMobile() ? _c(\"span\", [_vm._v(\"Hit Record\")]) : _vm._e()\n          ])\n        ]\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"body\" }, [\n      _c(\n        \"div\",\n        { attrs: { id: \"transcriptions\" } },\n        _vm._l(_vm.transcriptions, function(item, index) {\n          return item.status != \"Failed\"\n            ? _c(\n                \"div\",\n                { staticClass: \"transcription\", class: [item.status] },\n                [\n                  item.status != \"Transcribing\"\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"delete\",\n                          on: {\n                            click: function($event) {\n                              return _vm.deleteObject(index)\n                            }\n                          }\n                        },\n                        [_c(\"i\", { staticClass: \"fa fa-times\" })]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"text\" }, [\n                    item.status == \"Transcribing\"\n                      ? _c(\"i\", {\n                          staticClass: \"fa fa-spinner fa-spin\",\n                          class: [item.status]\n                        })\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    item.show_metadata\n                      ? _c(\"div\", [\n                          _c(\n                            \"div\",\n                            { staticClass: \"confidence\" },\n                            _vm._l(item.metadata, function(character) {\n                              return _c(\"div\", { staticClass: \"char\" }, [\n                                character.char == \" \"\n                                  ? _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"char-wrapper\",\n                                        style: {\n                                          backgroundColor:\n                                            \"rgb(255, 40, 40, \" +\n                                            (1 - character.prob) +\n                                            \")\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", { staticClass: \"char\" }, [\n                                          _vm._v(\"  \")\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\"br\"),\n                                        _c(\"span\", { staticClass: \"prob\" }, [\n                                          _vm._v(\n                                            \" \" +\n                                              _vm._s(\n                                                character.prob.toFixed(2)\n                                              ) +\n                                              \" \"\n                                          )\n                                        ])\n                                      ]\n                                    )\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                character.char != \" \"\n                                  ? _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"char-wrapper\",\n                                        style: {\n                                          backgroundColor:\n                                            \"rgba(255, 40, 40, \" +\n                                            (1 - character.prob) +\n                                            \")\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", { staticClass: \"char\" }, [\n                                          _vm._v(_vm._s(character.char))\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\"br\"),\n                                        _c(\"span\", { staticClass: \"prob\" }, [\n                                          _vm._v(\n                                            \" \" +\n                                              _vm._s(\n                                                character.prob.toFixed(2)\n                                              ) +\n                                              \" \"\n                                          )\n                                        ])\n                                      ]\n                                    )\n                                  : _vm._e()\n                              ])\n                            }),\n                            0\n                          ),\n                          _vm._v(\" \"),\n                          _vm._m(0, true),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"confidence\" },\n                            _vm._l(item.metadata, function(character) {\n                              return _c(\"div\", { staticClass: \"char\" }, [\n                                character.acoustic == \" \"\n                                  ? _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"char-wrapper\",\n                                        style: {\n                                          backgroundColor:\n                                            \"rgb(255, 40, 40, \" +\n                                            character.entropy +\n                                            \")\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", { staticClass: \"char\" }, [\n                                          _vm._v(\"  \")\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\"br\"),\n                                        _c(\"span\", { staticClass: \"prob\" }, [\n                                          _vm._v(\n                                            \" \" +\n                                              _vm._s(\n                                                character.entropy.toFixed(2)\n                                              ) +\n                                              \" \"\n                                          )\n                                        ])\n                                      ]\n                                    )\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                character.acoustic != \" \"\n                                  ? _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"char-wrapper\",\n                                        style: {\n                                          backgroundColor:\n                                            \"rgba(255, 40, 40, \" +\n                                            character.entropy +\n                                            \")\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", { staticClass: \"char\" }, [\n                                          _vm._v(_vm._s(character.acoustic))\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\"br\"),\n                                        _c(\"span\", { staticClass: \"prob\" }, [\n                                          _vm._v(\n                                            \" \" +\n                                              _vm._s(\n                                                character.entropy.toFixed(2)\n                                              ) +\n                                              \" \"\n                                          )\n                                        ])\n                                      ]\n                                    )\n                                  : _vm._e()\n                              ])\n                            }),\n                            0\n                          ),\n                          _vm._v(\" \"),\n                          _vm._m(1, true),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"confidence\" },\n                            _vm._l(item.words, function(word) {\n                              return _c(\n                                \"div\",\n                                {\n                                  staticClass: \"word\",\n                                  style: {\n                                    backgroundColor:\n                                      \"rgba(255, 40, 40, \" +\n                                      (1 - word.prob) +\n                                      \")\"\n                                  }\n                                },\n                                [\n                                  _c(\n                                    \"div\",\n                                    { staticClass: \"word-wrapper\" },\n                                    _vm._l(word.word, function(char) {\n                                      return char != \" \"\n                                        ? _c(\"span\", { staticClass: \"char\" }, [\n                                            _vm._v(_vm._s(char))\n                                          ])\n                                        : _vm._e()\n                                    }),\n                                    0\n                                  ),\n                                  _c(\"span\", { staticClass: \"prob\" }, [\n                                    _vm._v(_vm._s(word.prob.toFixed(2)))\n                                  ])\n                                ]\n                              )\n                            }),\n                            0\n                          )\n                        ])\n                      : _vm._e()\n                  ]),\n                  _vm._v(\" \"),\n                  !item.show_metadata\n                    ? _c(\"div\", [\n                        item.status != \"Transcribing\"\n                          ? _c(\"div\", { staticClass: \"text\" }, [\n                              _vm._v(_vm._s(item.text))\n                            ])\n                          : _vm._e()\n                      ])\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"audio\" }, [\n                    item.audio_url\n                      ? _c(\"audio\", {\n                          attrs: {\n                            src: item.audio_url,\n                            type: \"audio/mp3\",\n                            controls: \"\"\n                          },\n                          on: { play: _vm.stopRecording }\n                        })\n                      : _vm._e()\n                  ])\n                ]\n              )\n            : _vm._e()\n        }),\n        0\n      )\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", [_c(\"br\")])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", [_c(\"br\")])\n  }\n]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-3a451344\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a451344\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Korero.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a451344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Korero.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Korero.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Korero.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a451344\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Korero.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3a451344\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/Korero.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-3a451344\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-3a451344\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Korero.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Korero from '@/components/Korero'\nimport vueCustomElement from 'vue-custom-element'\nVue.use(vueCustomElement)\nVue.customElement('vue-widget', Korero)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a451344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Korero.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4b848445\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a451344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Korero.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a451344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Korero.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3a451344\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Korero.vue\n// module id = SVQq\n// module chunks = 1"],"sourceRoot":""}